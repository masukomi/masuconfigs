#!/usr/bin/env ruby

# lcf: Last Commit's Files
#
# finds and lists the files from the last commit
# altering paths to be relative to the current directory

git_root = `git rev-parse --show-toplevel`.strip

changed_files = `git log --name-only --oneline HEAD^..HEAD`.split("\n")[1..]

omittable_difference = `pwd`.strip.sub(git_root, "")

changed_files.each do | file |
  puts "." + ("/" + file).sub(omittable_difference, "")
end
